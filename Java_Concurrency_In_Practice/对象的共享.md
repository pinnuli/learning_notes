### 一、可见性

#### 非原子的64位操作
- 对于非volatile类型的long和double变量，JVM允许将来64位的读操作或写操作分解为两个32位的操作
- 在多线程中使用共享且可变的long和double等类型变量是不安全的，需要用volatile声明或加锁

#### Volatile变量
- 从内存可见性的角度来看，写入volatile变量相当于退出同步代码块，读取volatile变量相当于进入同步代码块
- 当volatile变量能简化代码的实现以及对同步策略的验证时才使用
- 加锁机制既可以确保可见性又可以确保原子性，volatile变量只能确保可见性（因此不足以确保递增操作的原子性）

### 发布与逸出

